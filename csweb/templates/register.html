{%  extends "base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block title %}Registro de usuarios{% endblock %}
{% block content %}
<p>Desde aquí puedes crear nuevos usuarios</p>
  <form method="post">
    {% csrf_token %}
      <p>
        Usuario<br>
        {{ form.username  | add_class:"form-control" }}
      </p>
      <p>
        Nombre<br>
        {{ form.name  | add_class:"form-control" }}
      </p>
      <p>
        RUT<br>
        {{ form.rut  | add_class:"form-control" }}
      </p>
      <p>
        Privilegios<br>
        {{ form.privilege  | add_class:"form-control" }}
      </p>
      <!-- Password  -->
      <p>
          Contraseña<br>
          <input type="password" class = "form-control" name="id_password" id="id_password" onchange='check_pass();'/>
      </p>
      <p>
        Confirmar contraseña<br>
        <input type="password" class = "form-control" name="id_confirm_password" id="id_confirm_password" onchange='check_pass();'/>
        <span id='error'></span>
      </p>
    <button type="submit" class="btn btn-block btn-primary btn-lg" name = "submit" id="submit" disabled>Crear Usuario</button>
    
  </form>
  <!-- Password verification script -->
  <script>
    function check_pass() {
    if (document.getElementById('id_password').value ==
            document.getElementById('id_confirm_password').value && document.getElementById('id_password').value != '') {
        document.getElementById('submit').disabled = false;
        document.getElementById('error').style.color = 'green';
        document.getElementById('error').innerHTML = 'Las contraseñas coinciden';
    } else {
        document.getElementById('submit').disabled = true;
        document.getElementById('error').style.color = 'red';
        document.getElementById('error').innerHTML = 'Las contraseñas no coinciden';
    }
}
  </script>
{% endblock %}







